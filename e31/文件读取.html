<!DOCTYPE html>
<html>
  <head>
    <title>文件读取.html</title>
	
    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta name="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
    <style type="text/css">
      #div{
        width: 200px;
        height: 200px;
        border: #000 2px dashed;
        margin: 100px auto;
        text-align: center;
        line-height: 200px;
        display: none;
      }
    </style>
  </head>
  
  <body>
    <div id="div">
      请将文件拖到此处
    </div>
  </body>
  <script type="text/javascript">
    var oDiv = document.getElementById("div");
    var timer = null;
    
    document.ondragover = function(){
    	clearTimeout(timer);
    	oDiv.style.display = "block";
    	
    	timer = setTimerout(function(){
    		oDiv.style.display = "none";
    	},100);
    };
    oDiv.ondragenter = function(){
    	oDiv.innerHTML = "请释放鼠标";
    }
    oDiv.ondragleave = function(){
    	oDiv.innerHTML = "请将文件拖到此处";
    } 
    oDiv.ondragover = function(){
    	return false;
    }
    oDiv.ondrop = function(){
  //  	alert("1");
        var oFile = ev.dataTransfer.files[0];
        var oReader = new FileReader();//读取文件
        oReader.readAsText(oFile,"utf-8");//以文本形式读取的文件
        oReader.onload = function(){//内容读取完成的标识;
          alert(oReader.result);//读取文件内容
        }
        return false;//阻止浏览器读取文件内容
    }
  </script>
</html>
