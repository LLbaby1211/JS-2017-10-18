<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>瀑布流.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
    <style type="text/css">
      *{
        margin:opx; 
        padding:0px;
        list-style:none;
      }
      #box{
        width:966px;
        height:auto;
        margin:0 auto;
        overflow:hidden;
      }
      #box ul{
        width:300px;
        border:1px solid #000000;
        float:left;
        margin-right:20px;
      }
      #box ul li{
        width:280px;
        margin:10px 9px;
        border:#666 1px solid;
      }
    </style>
    <script type="text/javascript">
      function rnd(n,m){
    	return parseInt(Math.random()*(m-n)+n);
      }
      
      function createLi(){
    	 var oLi = document.createElement("li");
  	     oLi.style.height = rnd(100,400)+'px';
  	     oLi.style. background = 'rgb('+rnd(0,256)+','+rnd(0,256)+','+rnd(0,256)+')';
  	     return oLi;
      }
      
      window.onload = function(){
    	  var oBox = document.getElementById("box");
    	  var aUl = oBox.children;
    	function appendLi(){
			for(var i = 0; i < 20; i++){
				var oLi = createLi();
				var arrUl = [];
				for(var j = 0; j < aUl.length; j++){
					arrUl[j] = aUl[j];	
				}
				arrUl.sort(function(n1,n2){
					return n1.offsetHeight - n2.offsetHeight;	
				});
				arrUl[0].appendChild(oLi);
			}	
		}
      appendLi();
      window.onscroll = function(){
    	  var oScrollTop = document.documentElement.scrollTop || document.body.scrollTop;
    	  var clientH = document.documentElement.clientHeight;
    	  var oBoxH = oBox.scrollHeight;
    	  if(oScrollTop + clientH >= oBoxH - 300){
    		  appendLi();
    	  }
      }
      }
    </script>
  </head>
  
  <body>
    <div id="box">
      <ul></ul>
      <ul></ul>
      <ul></ul>
    </div>
  </body>
</html>
